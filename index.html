<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="frontend/css/sidebar.css">
    <link rel="stylesheet" href="frontend/css/main.css">
    <link rel="stylesheet" href="frontend/css/note.css">
    <link rel="stylesheet" href="frontend/css/folder.css">
    <link rel="stylesheet" href="frontend/css/dialog.css">
    <link rel="stylesheet" href="frontend/css/textEditor/textEditor.css">
    <link rel="stylesheet" href="frontend/css/textEditor/toolbarBottom.css">
    <link rel="stylesheet" href="frontend/css/textEditor/toolbarTop.css">
    <!-- CDN for the icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- CND for the color coding in pre tags-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism.min.css">
    <title>Note</title>
</head>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@100&display=swap');
  </style>
<body>
    <div class="wrapper">
        <div class="sidebar">
            <div class="sidebar-logo">
                <div class="logo-container">
                    <div class="logo">
                        <span>N</span>
                    </div>
                    <div class="logo-text">ote</div>
                </div>
            </div>
            <div class="sidebar-content">
                <button class="create-note-btn"><i class="fa-solid fa-plus"></i><span>Note</span></button>
                <button class="exit-folder-btn"><i class="fa-solid fa-arrow-left"></i><span>Exit</span></button>
                <button class="home-screen-btn"><i class="fa-solid fa-house"></i><span>Home</span></button>
            </div>
        </div>

        <main class="main">
            <div class="main-top">

              <div class="search-container">
                <i class="fa-solid fa-magnifying-glass"></i>
                <input type="text" spellcheck="false" placeholder="Search" class="searchbar-input">
                <ul class="note-suggestions-list"></ul>
              </div>

              <button class="create-folder-btn"><i class="fa-solid fa-plus"></i> Folder</button>

            </div>
            <div class="main-bottom">
                <div class="content-list-view">
                    <span class="content-list-view-title">Folders</span>
                    <div class="list-content-folders"></div>
                    <span class="content-list-view-title">Notes</span>
                    <div class="list-content-notes"></div>
                </div>
                <div class="content-view"></div>
            </div>
        </main>
        
    </div>    
    <div class="dialog"></div>
    <div class="editor-wrapper">
      <div class="toolbar">
        <div class="toolbar-top">
          <button class="exit-text-editor-btn"><i class="fa-solid fa-arrow-left"></i></button>
          <div class="file-dropdown">
            <button class="dropdown-title">Note</button>
            <div class="options">
              <button class="new-note-span"><i class="fa-solid fa-plus"></i>New</button>
              <button class="save-note-span"><i class="fa-regular fa-floppy-disk"></i>Save</button>
              <button class="delete-note-span"><i class="fa-solid fa-trash"></i>Delete</button>
              <button class="note-details-span"><i class="fa-solid fa-info"></i>Details</button>
            </div>
          </div>
          <input type="text" class="note-name-input" placeholder="untitled" spellcheck="false">
            <button class="save-note-btn">Save</button>
          </div>
          <div class="toolbar-bottom">
            <div class="btn-container">
              <button onclick="executeCommand('undo')"><i class="fa-solid fa-rotate-left"></i></button>
              <button onclick="executeCommand('redo')"><i class="fa-solid fa-rotate-right"></i></button>
            </div>
            <div class="heading-dropdown">
              <button class="heading-button">heading 1</button>
              <div class="options">
                <button class="heading-1" onclick="executeCommand('formatBlock', 'h1')">Heading 1</button>
                <button class="heading-2" onclick="executeCommand('formatBlock', 'h2')">Heading 2</button>
                <button class="heading-3" onclick="executeCommand('formatBlock', 'h3')">Heading 3</button>
                <button class="heading-4" onclick="executeCommand('formatBlock', 'h4')">Heading 4</button>
                <button class="heading-5" onclick="executeCommand('formatBlock', 'h5')">Heading 5</button>
                <button class="heading-6" onclick="executeCommand('formatBlock', 'h6')">Heading 6</button>
              </div>
            </div>
              <div class="btn-container">
                <button onclick="executeCommand('bold')"><i class="fa-solid fa-b"></i></button>
                <button onclick="executeCommand('italic')"><i class="fa-solid fa-italic"></i></button>
                <button onclick="executeCommand('underline')"><i class="fa-solid fa-underline"></i></button>
                <button onclick="executeCommand('strikeThrough')"><i class="fa-solid fa-strikethrough"></i></button>
                <button class="link-btn"><i class="fa-solid fa-link"></i></button>            
    
                <button onclick="executeCommand('justifyLeft')"><i class="fa-solid fa-align-left"></i></button>
                <button onclick="executeCommand('justifyCenter')"><i class="fa-solid fa-align-center"></i></button>
                <button onclick="executeCommand('justifyRight')"><i class="fa-solid fa-align-right"></i></button>
    
                <button onclick="executeCommand('insertUnorderedList')"><i class="fa-solid fa-list-ul"></i></button>
                <button onclick="executeCommand('insertOrderedList')"><i class="fa-solid fa-list-ol"></i></button>
                <button class="paragraph-btn"><i class="fa-solid fa-paragraph"></i></button>
                <button class="code-block-btn"><i class="fa-solid fa-code"></i></button>

                <div class="color-picker">
                  <i class="fa-solid fa-eye-dropper"></i>
                  <input class="foreground-color-picker" type="color" value="#5c7dff" onchange="changeColor(this.value)">
                </div>
              
              </div>
          </div>
        </div>
        <div class="editor" contenteditable="true" spellcheck="false"></div>
      </div>
    </div>
      
      <script>
        function executeCommand(command, value = null) {
          if (document.queryCommandSupported(command)) {
            document.execCommand('styleWithCSS', false, true);
            document.execCommand(command, false, value);
          }
        }

        function changeColor(color) {
            // Get the selection
            console.log(`hello color: ${color}`);
            const selection = window.getSelection();
            
            // Get the range of the selection
            const range = selection.getRangeAt(0);

            // Create a span element
            const span = document.createElement('span');

            // Set the style of the span (change 'red' to your desired color)
            span.style.color = color;

            // Surround the selected text with the span
            range.surroundContents(span);
        }
      </script>
    <script type="module" src="/frontend/js/view/sideBarView.js"></script>
    <script type="module" src="/frontend/js/view/textEditorView.js"></script>
    <script type="module" src="index.js"></script>
    <!-- CND for the color coding in pre tags-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js"></script>
</body>
</html>